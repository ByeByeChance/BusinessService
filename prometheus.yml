global:
  scrape_interval:     15s # 全局采集间隔
  evaluation_interval: 15s # 全局评估间隔

# 告警配置
# alerting:
#   alertmanagers:
#   - static_configs:
#     - targets: ['alertmanager:9093']

# 告警规则
# rule_files:
#   - "first_rules.yml"
#   - "second_rules.yml"

# 监控目标配置
scrape_configs:
  # Prometheus自身监控
  - job_name: 'prometheus'
    static_configs:
    - targets: ['localhost:9090']

  # 应用服务监控
  - job_name: 'algorithm-platform-service'
    scrape_interval: 5s
    static_configs:
    - targets: ['app:9000']
    metrics_path: '/api/metrics'  # 与应用配置的PREFIX一致

  # Redis监控（使用Redis Exporter）
  - job_name: 'redis'
    static_configs:
    - targets: ['redis_exporter:9121']

  # MySQL监控（使用MySQL Exporter）
  - job_name: 'mysql'
    static_configs:
    - targets: ['mysql_exporter:9104']

  # Node Exporter监控（监控主机资源）
  - job_name: 'node'
    static_configs:
    - targets: ['node_exporter:9100']
